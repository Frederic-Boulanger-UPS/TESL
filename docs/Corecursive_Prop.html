<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Theory Corecursive_Prop (Isabelle2018: August 2018)</title>
<link media="all" rel="stylesheet" type="text/css" href="isabelle.css"/>
</head>

<body>
<div class="head"><h1>Theory Corecursive_Prop</h1>

<span class="command">theory</span> <span class="name">Corecursive_Prop</span><br/>
<span class="keyword">imports</span> <a href="Operational.html"><span class="name">Operational</span></a> <a href="Denotational.html"><span class="name">Denotational</span></a><br/>

</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*chapter&#8249;Equivalence of Operational and Denotational Semantics&#8250;*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">text</span></span><span class="cartouche"><span class="delete"><span class="delete">&#8249;\chapter[Semantics Equivalence]{Equivalence of the Operational and Denotational Semantics}&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Corecursive_Prop</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span>
</span><span>    </span><span>SymbolicPrimitive</span><span>
</span><span>    </span><span>Operational</span><span>
</span><span>    </span><span>Denotational</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">section</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Stepwise denotational interpretation of TESL atoms&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  In order to prove the equivalence of the denotational and operational semantics, 
  we need to be able to ignore the past (for which the constraints are encoded 
  in the context) and consider only the satisfaction of the constraints from
  a given instant index.
  For this purpose, we define an interpretation of TESL formulae for a suffix of a run.
  That interpretation is closely related to the denotational semantics as
  defined in the preceding chapters.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">fun</span></span><span> </span><span>TESL_interpretation_atomic_stepwise</span><span>
</span><span>    </span><span class="delimiter">::</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#39;&#964;::linordered_field) TESL_atomic &#8658; nat &#8658; &#39;&#964; run set&#8250;</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;&#10214; _ &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; _<span class="hidden">&#8662;</span></sup>&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8707;n&#8805;i. hamlet ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>1</sub>) &#8743; time ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>2</sub>) = &#964;}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. R (time ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>1</sub>), time ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>2</sub>))}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. hamlet ((Rep_run &#961;) n master) &#10230; hamlet ((Rep_run &#961;) n slave)}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master implies not slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. hamlet ((Rep_run &#961;) n master) &#10230; &#172; hamlet ((Rep_run &#961;) n slave)}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master time-delayed by &#948;&#964; on measuring implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. hamlet ((Rep_run &#961;) n master) &#10230;
               (let measured_time = time ((Rep_run &#961;) n measuring) in
                &#8704;m &#8805; n. first_time &#961; measuring m (measured_time + &#948;&#964;)
                         &#10230; hamlet ((Rep_run &#961;) m slave)
               )
      }&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> n) &#8804; (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>1</sub> n)}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> n) &#8804; (run_tick_count_strictly &#961; K<span class="hidden">&#8681;</span><sub>1</sub> n)}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; i<span class="hidden">&#8662;</span></sup> =
      {&#961;. &#8704;n&#8805;i. hamlet ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>1</sub>) &#10230; (&#8704;m&#8805;n. &#172; hamlet ((Rep_run &#961;) m K<span class="hidden">&#8681;</span><sub>2</sub>))}&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  The denotational interpretation of TESL formulae can be unfolded into the 
  stepwise interpretation.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_sporadicon</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub> = &#8899; {Y. &#8707;n::nat. Y = &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_tagrelgen</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
    = &#8898; {Y. &#8707;n::nat. Y = &#10214; time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_implies</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
    = &#8898; {Y. &#8707;n::nat. Y = &#10214; master implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_implies_not</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master implies not slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
    = &#8898; {Y. &#8707;n::nat. Y = &#10214; master implies not slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_timedelayed</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master time-delayed by &#948;&#964; on measuring implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
    = &#8898; {Y. &#8707;n::nat.
          Y = &#10214; master time-delayed by &#948;&#964; on measuring implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_weakly_precedes</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
    = &#8898; {Y. &#8707;n::nat. Y = &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_strictly_precedes</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
    = &#8898; {Y. &#8707;n::nat. Y = &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_unfold_stepwise_kills</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master kills slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub> = &#8898; {Y. &#8707;n::nat. Y = &#10214; master kills slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  Positive atomic formulae (the ones that create ticks from nothing) are unfolded
  as the union of the stepwise interpretations.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span>TESL_interp_unfold_stepwise_positive_atoms</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;positive_atom &#966;&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#966;::&#39;&#964;::linordered_field TESL_atomic &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub>
            = &#8899; {Y. &#8707;n::nat. Y = &#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>positive_atom.elims</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span class="delimiter">[</span><span>OF</span><span> </span><span>assms</span><span class="delimiter">]</span><span>
</span><span>    </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>u</span><span> </span><span>v</span><span> </span><span>w</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#966; = (u sporadic v on w)&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>TESL_interp_unfold_stepwise_sporadicon</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  Negative atomic formulae are unfolded
  as the intersection of the stepwise interpretations.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span>TESL_interp_unfold_stepwise_negative_atoms</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#172; positive_atom &#966;&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub> = &#8898; {Y. &#8707;n::nat. Y = &#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span class="delimiter">(</span><span>cases</span><span> </span><span>&#966;</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>SporadicOn</span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>TagRelation</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_tagrelgen</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Implies</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_implies</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>ImpliesNot</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_implies_not</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>TimeDelayedBy</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_timedelayed</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>WeaklyPrecedes</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_weakly_precedes</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>StrictlyPrecedes</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_strictly_precedes</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Kills</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_unfold_stepwise_kills</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  Some useful lemmas for reasoning on properties of sequences.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>forall_nat_expansion</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#8704;n &#8805; (n<span class="hidden">&#8681;</span><sub>0</sub>::nat). P n) = (P n<span class="hidden">&#8681;</span><sub>0</sub> &#8743; (&#8704;n &#8805; Suc n<span class="hidden">&#8681;</span><sub>0</sub>. P n))&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#8704;n &#8805; (n<span class="hidden">&#8681;</span><sub>0</sub>::nat). P n) = (&#8704;n. (n = n<span class="hidden">&#8681;</span><sub>0</sub> &#8744; n &gt; n<span class="hidden">&#8681;</span><sub>0</sub>) &#10230; P n)&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>le_less</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;... = (P n<span class="hidden">&#8681;</span><sub>0</sub> &#8743; (&#8704;n &gt; n<span class="hidden">&#8681;</span><sub>0</sub>. P n))&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Suc_le_eq</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>exists_nat_expansion</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#8707;n &#8805; (n<span class="hidden">&#8681;</span><sub>0</sub>::nat). P n) = (P n<span class="hidden">&#8681;</span><sub>0</sub> &#8744; (&#8707;n &#8805; Suc n<span class="hidden">&#8681;</span><sub>0</sub>. P n))&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#8707;n &#8805; (n<span class="hidden">&#8681;</span><sub>0</sub>::nat). P n) = (&#8707;n. (n = n<span class="hidden">&#8681;</span><sub>0</sub> &#8744; n &gt; n<span class="hidden">&#8681;</span><sub>0</sub>) &#8743; P n)&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>le_less</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;... = (&#8707;n. (P n<span class="hidden">&#8681;</span><sub>0</sub>) &#8744; (n &gt; n<span class="hidden">&#8681;</span><sub>0</sub> &#8743; P n))&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Suc_le_eq</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{x. &#8704;m &#8805; n. P x m} = {x. P x n} &#8745; {x. &#8704;m &#8805; Suc n. P x m}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>x</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>h</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. &#8704;m &#8805; n. P x m}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;P x n&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>h</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. &#8704;m &#8805; Suc n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. P x n} &#8745; {x. &#8704;m &#8805; Suc n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{x. &#8704;m &#8805; n. P x m} &#8838; {x. P x n} &#8745; {x. &#8704;m &#8805; Suc n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">..</span></span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>x</span><span>  </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>h</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. P x n} &#8745; {x. &#8704;m &#8805; Suc n. P x m}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;P x n&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>h</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#8704;m &#8805; Suc n. P x m&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#8704;m &#8805; n. P x m&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_expansion</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. &#8704;m &#8805; n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{x. P x n} &#8745; {x. &#8704;m &#8805; Suc n. P x m} &#8838; {x. &#8704;m &#8805; n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">..</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>exists_nat_set_suc</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{x. &#8707;m &#8805; n. P x m} = {x. P x n} &#8746; {x. &#8707;m &#8805; Suc n. P x m}&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>x</span><span> </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>h</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. &#8707;m &#8805; n. P x m}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. &#8707;m. (m = n &#8744; m &#8805; Suc n) &#8743; P x m}&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Suc_le_eq</span><span> </span><span>antisym_conv2</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>fastforce</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. P x n} &#8746; {x. &#8707;m &#8805; Suc n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{x. &#8707;m &#8805; n. P x m} &#8838; {x. P x n} &#8746; {x. &#8707;m &#8805; Suc n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">..</span></span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>x</span><span>  </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>h</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. P x n} &#8746; {x. &#8707;m &#8805; Suc n. P x m}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;x &#8712; {x. &#8707;m &#8805; n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Suc_leD</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{x. P x n} &#8746; {x. &#8707;m &#8805; Suc n. P x m} &#8838; {x. &#8707;m &#8805; n. P x m}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">..</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">section</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Coinduction Unfolding Properties&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  The following lemmas show how  to shorten a suffix, i.e. to unfold one instant 
  in the construction of a run. They correspond to the rules of the operational 
  semantics.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_sporadicon_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =
    &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964; &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>        &#8213; &#8249;rule @{term sporadic_on_e2}&#8250;
    &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>   </span><span class="comment">&#8213; &#8249;rule @{term sporadic_on_e1}&#8250;</span><span>
</span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>TESL_interpretation_atomic_stepwise.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>          </span><span>symbolic_run_interpretation_primitive.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">,</span><span>6</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>exists_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;&#961; n. hamlet (Rep_run &#961; n K<span class="hidden">&#8681;</span><sub>1</sub>)
                                     &#8743; time (Rep_run &#961; n K<span class="hidden">&#8681;</span><sub>2</sub>) = &#964;&#8250;</span></span></span><span class="delimiter">]</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Collect_conj_eq</span><span class="delimiter">)</span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_tagrel_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =        &#8213; &#8249;rule @{term tagrel_e}&#8250;
     &#10214; &#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
     &#8745; &#10214; time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. &#8704;m&#8805;n. R (time ((Rep_run &#961;) m K<span class="hidden">&#8681;</span><sub>1</sub>), time ((Rep_run &#961;) m K<span class="hidden">&#8681;</span><sub>2</sub>))}
       = {&#961;. R (time ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>1</sub>), time ((Rep_run &#961;) n K<span class="hidden">&#8681;</span><sub>2</sub>))}
       &#8745; {&#961;. &#8704;m&#8805;Suc n. R (time ((Rep_run &#961;) m K<span class="hidden">&#8681;</span><sub>1</sub>), time ((Rep_run &#961;) m K<span class="hidden">&#8681;</span><sub>2</sub>))}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;x y. R (time ((Rep_run x) y K<span class="hidden">&#8681;</span><sub>1</sub>),
                                       time ((Rep_run x) y K<span class="hidden">&#8681;</span><sub>2</sub>))&#8250;</span></span></span><span class="delimiter">]</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_implies_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =
     (   &#10214; master &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>                     &#8213; &#8249;rule @{term implies_e1}&#8250;
       &#8746; &#10214; master &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; slave &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)  &#8213; &#8249;rule @{term implies_e2}&#8250;
     &#8745; &#10214; master implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. &#8704;m&#8805;n. hamlet ((Rep_run &#961;) m master) &#10230; hamlet ((Rep_run &#961;) m slave)}
        = {&#961;. hamlet ((Rep_run &#961;) n master) &#10230; hamlet ((Rep_run &#961;) n slave)}
        &#8745; {&#961;. &#8704;m&#8805;Suc n. hamlet ((Rep_run &#961;) m master)
                     &#10230; hamlet ((Rep_run &#961;) m slave)}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;x y. hamlet ((Rep_run x) y master)
                                &#10230; hamlet ((Rep_run x) y slave)&#8250;</span></span></span><span class="delimiter">]</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_implies_not_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master implies not slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =
     (    &#10214; master &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>                       &#8213; &#8249;rule @{term implies_not_e1}&#8250;
        &#8746; &#10214; master &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; slave &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)  &#8213; &#8249;rule @{term implies_not_e2}&#8250;
     &#8745; &#10214; master implies not slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. &#8704;m&#8805;n. hamlet ((Rep_run &#961;) m master) &#10230; &#172; hamlet ((Rep_run &#961;) m slave)}
       = {&#961;. hamlet ((Rep_run &#961;) n master) &#10230; &#172; hamlet ((Rep_run &#961;) n slave)}
          &#8745; {&#961;. &#8704;m&#8805;Suc n. hamlet ((Rep_run &#961;) m master)
                     &#10230; &#172; hamlet ((Rep_run &#961;) m slave)}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;x y. hamlet ((Rep_run x) y master)
                               &#10230; &#172;hamlet ((Rep_run x) y slave)&#8250;</span></span></span><span class="delimiter">]</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_timedelayed_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; master time-delayed by &#948;&#964; on measuring implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =
     (     &#10214; master &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>               &#8213; &#8249;rule @{term timedelayed_e1}&#8250;
        &#8746; (&#10214; master &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; measuring @ n &#8853; &#948;&#964; &#8658; slave &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>))
                                             &#8213; &#8249;rule @{term timedelayed_e2}&#8250;
     &#8745; &#10214; master time-delayed by &#948;&#964; on measuring implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?prop</span><span> </span><span class="delimiter">=</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;&#961; m. hamlet ((Rep_run &#961;) m master) &#10230;
                 (let measured_time = time ((Rep_run &#961;) m measuring) in
                  &#8704;p &#8805; m. first_time &#961; measuring p (measured_time + &#948;&#964;)
                           &#10230; hamlet ((Rep_run &#961;) p slave))&#8250;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. &#8704;m &#8805; n. ?prop &#961; m} = {&#961;. ?prop &#961; n} &#8745; {&#961;. &#8704;m &#8805; Suc n. ?prop &#961; m}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="var">?prop</span><span class="delimiter">]</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;... = {&#961;. ?prop &#961; n}
              &#8745; &#10214; master time-delayed by &#948;&#964; on measuring implies slave &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_weakly_precedes_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =                 &#8213; &#8249;rule @{term weakly_precedes_e}&#8250;
      &#10214; (&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> 
      &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. &#8704;p&#8805;n. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> p) &#8804; (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>1</sub> p)}
         = {&#961;. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> n) &#8804; (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>1</sub> n)}
         &#8745; {&#961;. &#8704;p&#8805;Suc n. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> p) &#8804; (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>1</sub> p)}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;&#961; n. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> n)
                                  &#8804; (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>1</sub> n)&#8250;</span></span></span><span class="delimiter">]</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_strictly_precedes_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =               &#8213; &#8249;rule @{term strictly_precedes_e}&#8250;
      &#10214; (&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&lt;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
      &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. &#8704;p&#8805;n. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> p) &#8804; (run_tick_count_strictly &#961; K<span class="hidden">&#8681;</span><sub>1</sub> p)}
         = {&#961;. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> n) &#8804; (run_tick_count_strictly &#961; K<span class="hidden">&#8681;</span><sub>1</sub> n)}
         &#8745; {&#961;. &#8704;p&#8805;Suc n. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> p) &#8804; (run_tick_count_strictly &#961; K<span class="hidden">&#8681;</span><sub>1</sub> p)}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>forall_nat_set_suc</span><span class="delimiter">[</span><span>of</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;n&#8250;</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;&#961; n. (run_tick_count &#961; K<span class="hidden">&#8681;</span><sub>2</sub> n)
                                  &#8804; (run_tick_count_strictly &#961; K<span class="hidden">&#8681;</span><sub>1</sub> n)&#8250;</span></span></span><span class="delimiter">]</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interp_stepwise_kills_coind_unfold</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> =
      (   &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>                        &#8213; &#8249;rule @{term kills_e1}&#8250;
        &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; &#8805; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)    &#8213; &#8249;rule @{term kills_e2}&#8250;
      &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?kills</span><span> </span><span class="delimiter">=</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;n &#961;. &#8704;p&#8805;n. hamlet ((Rep_run &#961;) p K<span class="hidden">&#8681;</span><sub>1</sub>)
                             &#10230; (&#8704;m&#8805;p. &#172; hamlet ((Rep_run &#961;) m K<span class="hidden">&#8681;</span><sub>2</sub>))&#8250;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?ticks</span><span> </span><span class="delimiter">=</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;n &#961; c. hamlet ((Rep_run &#961;) n c)&#8250;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?dead</span><span> </span><span class="delimiter">=</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#955;n &#961; c. &#8704;m &#8805; n. &#172;hamlet ((Rep_run &#961;) m c)&#8250;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = {&#961;. ?kills n &#961;}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;... = ({&#961;. &#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>}  &#8745; {&#961;. ?kills (Suc n) &#961;})
                 &#8746; ({&#961;. ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>})&#8250;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>&#961;</span><span class="delimiter">::</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#39;&#964;::linordered_field run&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#961; &#8712; {&#961;. ?kills n &#961;}&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;?kills n &#961;&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub> &#8743; ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>) &#8744; (&#172;?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub> &#8743; ?kills (Suc n) &#961;)&#8250;</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Suc_leD</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#961; &#8712; ({&#961;. ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>})
               &#8746; ({&#961;. &#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?kills (Suc n) &#961;})&#8250;</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;{&#961;. ?kills n &#961;}
           &#8838; {&#961;. &#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?kills (Suc n) &#961;} 
            &#8746; {&#961;. ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span> </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>&#961;</span><span class="delimiter">::</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#39;&#964;::linordered_field run&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#961; &#8712; ({&#961;. &#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>}  &#8745; {&#961;. ?kills (Suc n) &#961;})
                 &#8746; ({&#961;. ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>})&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub> &#8743; ?kills (Suc n) &#961;
             &#8744; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub> &#8743; ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;((&#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>) &#8743; (?kills (Suc n) &#961;)) &#10230; ?kills n &#961;&#8250;</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dual_order.antisym</span><span> </span><span>not_less_eq_eq</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;?kills n &#961; &#8744; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub> &#8743; ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;?kills n &#961;&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>le_trans</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;({&#961;. &#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>}  &#8745; {&#961;. ?kills (Suc n) &#961;})
                 &#8746; ({&#961;. ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>})
          &#8838; {&#961;. ?kills n &#961;}&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;... = {&#961;. &#172; ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?kills (Suc n) &#961;}
                 &#8746; {&#961;. ?ticks n &#961; K<span class="hidden">&#8681;</span><sub>1</sub>} &#8745; {&#961;. ?dead n &#961; K<span class="hidden">&#8681;</span><sub>2</sub>} &#8745; {&#961;. ?kills (Suc n) &#961;}&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Collect_cong</span><span> </span><span>Collect_disj_eq</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">also</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;... = &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>
                 &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; &#8805; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
                 &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">finally</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  The stepwise interpretation of a TESL formula is the intersection of the
  interpretation of its atomic components.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">fun</span></span><span> </span><span>TESL_interpretation_stepwise</span><span>
</span><span>  </span><span class="delimiter">::</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#39;&#964;::linordered_field TESL_formula &#8658; nat &#8658; &#39;&#964; run set&#8250;</span></span></span><span>
</span><span>  </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;&#10214;&#10214; _ &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; _<span class="hidden">&#8662;</span></sup>&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; [] &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = {&#961;. True}&#8250;</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; &#966; # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = &#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interpretation_stepwise_fixpoint</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = &#8898; ((&#955;&#966;. &#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>) ` set &#934;)&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>induction</span><span> </span><span>&#934;</span><span class="delimiter">,</span><span> </span><span>simp</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  The global interpretation of a TESL formula is its interpretation starting
  at the first instant.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interpretation_stepwise_zero</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub> = &#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; 0<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>induction</span><span> </span><span>&#966;</span><span class="delimiter">,</span><span> </span><span>simp</span><span class="delimiter">+</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interpretation_stepwise_zero&#39;</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub> = &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; 0<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>induction</span><span> </span><span>&#934;</span><span class="delimiter">,</span><span> </span><span>simp</span><span class="delimiter">,</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>TESL_interpretation_stepwise_zero</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>TESL_interpretation_stepwise_cons_morph</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#966; &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = &#10214;&#10214; &#966; # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span>TESL_interp_stepwise_composition</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; &#934;<span class="hidden">&#8681;</span><sub>1</sub> @ &#934;<span class="hidden">&#8681;</span><sub>2</sub> &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = &#10214;&#10214; &#934;<span class="hidden">&#8681;</span><sub>1</sub> &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934;<span class="hidden">&#8681;</span><sub>2</sub> &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>induction</span><span> </span><span>&#934;<span class="hidden">&#8681;</span><sub>1</sub></span><span class="delimiter">,</span><span> </span><span>simp</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">section</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Interpretation of configurations&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  The interpretation of a configuration of the operational semantics abstract 
  machine is the intersection of:
  &#9642; the interpretation of its context (the past),
  &#9642; the interpretation of its present from the current instant,
  &#9642; the interpretation of its future from the next instant.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">fun</span></span><span> </span><span>HeronConf_interpretation</span><span>
</span><span>  </span><span class="delimiter">::</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#39;&#964;::linordered_field config &#8658; &#39;&#964; run set&#8250;</span></span></span><span>          </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;&#10214; _ &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&quot;</span></span></span><span> </span><span>71</span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub> = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_composition</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;<span class="hidden">&#8681;</span><sub>1</sub>, n &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub> &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub> &#8745; &#10214; &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
     = &#10214; (&#915;<span class="hidden">&#8681;</span><sub>1</sub> @ &#915;<span class="hidden">&#8681;</span><sub>2</sub>), n &#8866; (&#936;<span class="hidden">&#8681;</span><sub>1</sub> @ &#936;<span class="hidden">&#8681;</span><sub>2</sub>) &#9657; (&#934;<span class="hidden">&#8681;</span><sub>1</sub> @ &#934;<span class="hidden">&#8681;</span><sub>2</sub>) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_composition</span><span> </span><span>symrun_interp_expansion</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>TESL_interp_stepwise_composition</span><span>
</span><span>              </span><span>symrun_interp_expansion</span><span> </span><span>inf_assoc</span><span> </span><span>inf_left_commute</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  When there are no remaining constraints on the present, the interpretation of
  a configuration is the same as the configuration at the next instant of its future.
  This corresponds to the introduction rule of the operational semantics.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_instant_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; [] &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub> = &#10214; &#915;, Suc n &#8866; &#934; &#9657; [] &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; [] &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub> = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; [] &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, Suc n &#8866; &#934; &#9657; [] &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                  = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; [] &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; [] &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>
                 = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; [] &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">text</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;
  The following lemmas use the unfolding properties of the stepwise denotational 
  semantics to give rewriting rules for the interpretation of configurations that
  match the elimination rules of the operational semantics.
&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_sporadicon_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    = &#10214; &#915;, n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    &#8746; &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964;) # &#915;), n &#8866; &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                 =  &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964;) # &#915;), n &#8866; &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                 =  &#10214;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964;) # &#915;) &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
                  &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964; &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>)
            &#8745; (&#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>)
          = &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; (&#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_sporadicon_coind_unfold</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964;) # &#915;) &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
            &#8746; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>
           = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_tagrel_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    = &#10214; ((&#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#8971; &#8712; R) # &#915;), n
        &#8866; &#936; &#9657; ((time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
        &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((&#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#8971; &#8712; R) # &#915;), n
                  &#8866; &#936; &#9657; ((time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                 = &#10214;&#10214; (&#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#8971; &#8712; R) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                 &#8745; &#10214;&#10214; (time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
          &#8745; &#10214; time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>
          &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> = &#10214;&#10214; (time-relation &#8970;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#8971; &#8712; R) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_tagrel_coind_unfold</span><span>
</span><span>            </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_implies_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
      = &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
      &#8746; &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                =  &#10214;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n) # &#915;) &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                 &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>f1</span><span class="delimiter">:</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)
                &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; (&#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>)
              = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_implies_coind_unfold</span><span>
</span><span>            </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
         = (&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>) &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>force</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
      = (&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)
        &#8745; (&#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>)&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>f1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>inf_left_commute</span><span> </span><span>inf_assoc</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Int_Un_distrib2</span><span> </span><span>inf_assoc</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_implies_not_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
      = &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
      &#8746; &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                  = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                  = &#10214;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n) # &#915;) &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>f1</span><span class="delimiter">:</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;(&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)
              &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>
              &#8745; (&#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>)
              = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_implies_not_coind_unfold</span><span>
</span><span>            </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
           = (&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>) &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>force</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                 = (&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
                    &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>) &#8745; (&#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                    &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> implies not K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>)&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>f1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>inf_left_commute</span><span> </span><span>inf_assoc</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Int_Un_distrib2</span><span> </span><span>inf_assoc</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_timedelayed_cases</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    = &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    &#8746; &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> @ n &#8853; &#948;&#964; &#8658; K<span class="hidden">&#8681;</span><sub>3</sub>) # &#915;), n
        &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>1</span><span class="delimiter">:</span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
         = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
          &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n
                  &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                 = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> @ n &#8853; &#948;&#964; &#8658; K<span class="hidden">&#8681;</span><sub>3</sub>) # &#915;), n
                  &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                 = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> @ n &#8853; &#948;&#964; &#8658; K<span class="hidden">&#8681;</span><sub>3</sub>) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
      = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; (&#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
        &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>)&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
          = (&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> @ n &#8853; &#948;&#964; &#8658; K<span class="hidden">&#8681;</span><sub>3</sub> &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)
            &#8745; (&#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; (&#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
            &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>))&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interpretation_stepwise_cons_morph</span><span>
</span><span>            </span><span>TESL_interp_stepwise_timedelayed_coind_unfold</span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>      </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
            = (&#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>2</sub> @ n &#8853; &#948;&#964; &#8658; K<span class="hidden">&#8681;</span><sub>3</sub> &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)
            &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_timedelayed_coind_unfold</span><span>
</span><span>              </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Int_assoc</span><span> </span><span>Int_left_commute</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>inf_assoc</span><span> </span><span>inf_sup_distrib2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_weakly_precedes_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    = &#10214; ((&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) # &#915;), n
      &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
          &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) # &#915;), n
                  &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                = &#10214;&#10214; (&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
                &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
            &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
          = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> weakly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_weakly_precedes_coind_unfold</span><span>
</span><span>            </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_strictly_precedes_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    = &#10214; ((&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&lt;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) # &#915;), n
      &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
          &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&lt;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) # &#915;), n
                  &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                = &#10214;&#10214; (&#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&lt;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y)) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
                &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#8968;#<span class="hidden">&#8679;</span><sup>&#8804;</sup> K<span class="hidden">&#8681;</span><sub>2</sub> n, #<span class="hidden">&#8679;</span><sup>&lt;</sup> K<span class="hidden">&#8681;</span><sub>1</sub> n&#8969; &#8712; (&#955;(x,y). x&#8804;y) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>
            &#8745; &#10214; K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub> &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
          = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> strictly precedes K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_strictly_precedes_coind_unfold</span><span>
</span><span>            </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>HeronConf_interp_stepwise_kills_cases</span><span class="delimiter">:</span><span>
</span><span>   </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    = &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
    &#8746; &#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; &#8805; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; &#915;, n &#8866; ((K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936;) &#9657; &#934; &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
        = &#10214;&#10214; &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214; ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; &#8805; n) # &#915;), n &#8866; &#936; &#9657; ((K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;) &#10215;<span class="hidden">&#8681;</span><sub>c</sub><span class="hidden">&#8681;</span><sub>o</sub><span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>f</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>g</sub>
                = &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; &#8805; n) # &#915; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
                  &#8745; &#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>      </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;&#10214;&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>
            = (&#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8746; &#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub> &#8745; &#10214; (K<span class="hidden">&#8681;</span><sub>2</sub> &#172;&#8657; &#8805; n) &#10215;<span class="hidden">&#8681;</span><sub>p</sub><span class="hidden">&#8681;</span><sub>r</sub><span class="hidden">&#8681;</span><sub>i</sub><span class="hidden">&#8681;</span><sub>m</sub>)
              &#8745; &#10214; (K<span class="hidden">&#8681;</span><sub>1</sub> kills K<span class="hidden">&#8681;</span><sub>2</sub>) &#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; Suc n<span class="hidden">&#8662;</span></sup> &#8745; &#10214;&#10214; &#936; &#10215;&#10215;<span class="hidden">&#8681;</span><sub>T</sub><span class="hidden">&#8681;</span><sub>E</sub><span class="hidden">&#8681;</span><sub>S</sub><span class="hidden">&#8681;</span><sub>L</sub><span class="hidden">&#8663;</span><sup>&#8805; n<span class="hidden">&#8662;</span></sup>&#8250;</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>TESL_interp_stepwise_kills_coind_unfold</span><span>
</span><span>              </span><span>TESL_interpretation_stepwise_cons_morph</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>

</div>
</body>
</html>
